<!-- âœ… Put this inside the same line with input and emoji button -->
<form id="chatForm">
  <div class="input-bar" style="display: flex; align-items: center; gap: 6px; position: relative;">

    <!-- âœ… Message Input -->
    <div class="input-group">
      <input id="msg" type="text" placeholder="Your message..." autocomplete="off" required />
    </div>

    <!-- âœ… Emoji Button and Panel (Fixed) -->
    <div style="position: relative;">
      <button id="emoji-btn" type="button">ğŸ˜Š</button>
      <div id="emoji-panel"
        style="display: none; position: absolute; bottom: 40px; left: 0; background: #fff; border: 1px solid #ccc; padding: 5px; border-radius: 5px; max-height: 150px; overflow-y: auto; width: 250px; z-index: 999; white-space: normal;">
      </div>
    </div>

    <!-- âœ… File Upload -->
    <label class="file-upload" title="Upload File">
      ğŸ“ Upload
      <input type="file" id="fileInput" hidden />
    </label>
    <progress id="uploadProgress" value="0" max="100" style="display: none;"></progress>

    <!-- âœ… Buttons -->
    <button type="submit">Send</button>
    <button type="button" id="record-audio">ğŸ¤</button>

    <video id="webcam" autoplay playsinline style="display:none; width:200px;"></video>
    <canvas id="snapshot" style="display:none;"></canvas>

    <button type="button" id="clearChat" class="clear-btn">ğŸ§¹ Clear Chat</button>
  </div>
</form>
